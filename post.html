<!doctypehtml><html lang=en><meta charset=UTF-8><meta content="width=device-width,initial-scale=1"name=viewport><title>Create Post</title><script src=https://www.gstatic.com/firebasejs/11.0.1/firebase-app-compat.js></script><script src=https://www.gstatic.com/firebasejs/11.0.1/firebase-database-compat.js></script><link href=https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css rel=stylesheet><style>body{background-color:#0d0d0d;color:#c9f4d6;font-family:Inter,sans-serif}.btn{background:#064e3b;color:#c9f4d6;padding:.5rem 1rem;border-radius:.5rem;transition:.2s}.btn:hover{background:#10b981;color:#0d0d0d}.tag-btn{background:#065f46;color:#a7f3d0;border-radius:.25rem;padding:.25rem .5rem;margin-right:.5rem;cursor:pointer}.tag-btn.active{background:#10b981;color:#0d0d0d}#postContent{background:#1a1a1a;color:#d1fae5;border:1px solid #065f46;min-height:200px;padding:10px;border-radius:.5rem}</style><body class=p-6><h1 class="mb-4 font-bold text-3xl text-green-300">Create Anonymous Post</h1><div class="flex flex-wrap mb-3"><div class=tag-btn data-tag=Code>Code</div><div class=tag-btn data-tag=Writing>Writing</div><div class=tag-btn data-tag=Art>Text</div><div class=tag-btn data-tag=Links>Links</div><div class=tag-btn data-tag=Other>Other</div></div><div class=mb-4 contenteditable=true id=postContent></div><div class="flex gap-3 mb-6"><button class=btn id=boldBtn>Bold Selection</button> <button class=btn id=postBtn>Post Anonymously</button></div><a class="text-green-300 underline"href=index>View All Posts</a><script>const firebaseConfig={apiKey:"AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw",authDomain:"easy-chatroom.firebaseapp.com",databaseURL:"https://easy-chatroom-default-rtdb.firebaseio.com",projectId:"easy-chatroom",storageBucket:"easy-chatroom.firebasestorage.app",messagingSenderId:"985049198428",appId:"1:985049198428:web:0cad8f285943b9f10c9b99",measurementId:"G-Q0YZGZLEMM"};firebase.initializeApp(firebaseConfig);const db=firebase.database();function getDeviceId(){let e=localStorage.getItem("deviceId");return e||(e="device-"+Math.random().toString(36).substring(2,15),localStorage.setItem("deviceId",e)),e}const deviceId=getDeviceId(),content=document.getElementById("postContent"),boldBtn=document.getElementById("boldBtn"),postBtn=document.getElementById("postBtn"),tagButtons=document.querySelectorAll(".tag-btn");let selectedTags=[];tagButtons.forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("active");const t=e.dataset.tag;selectedTags.includes(t)?selectedTags=selectedTags.filter((e=>e!==t)):selectedTags.push(t)}))})),boldBtn.addEventListener("click",(()=>document.execCommand("bold"))),postBtn.addEventListener("click",(async()=>{const e=content.innerHTML.trim();if(!e)return alert("Post cannot be empty!");const t=await db.ref("posts").orderByChild("deviceId").equalTo(deviceId).get(),a=t.exists()?Object.entries(t.val()):[];if(a.length>=10){if(!confirm("You've reached your 10-post limit. Continue? Oldest post will be deleted."))return;const e=a.sort(((e,t)=>e[1].createdAt-t[1].createdAt))[0][0];await db.ref("posts/"+e).remove()}const s=Date.now();await db.ref("posts/"+s).set({content:e,tags:selectedTags,createdAt:s,deviceId:deviceId}),alert("Post added successfully!"),content.innerHTML="",selectedTags=[],tagButtons.forEach((e=>e.classList.remove("active")))}));</script>